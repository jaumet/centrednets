<!DOCTYPE html> 
<html lang="en"> 
  <head>
    <meta charset="utf-8"> 
    <title>CentredNets</title> 
    <link rel="stylesheet" href="./css/styles.css" type="text/css" />
    <script src="./js/raphael-1.5.2.min.js"></script> 
    <script src="./js/jquery-1.5.min.js"></script> 
      <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.4/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.3/themes/base/jquery-ui.css" type="text/css"/>
  </head>
  <body>
    <div id="main">    	
    </div>
    <div id="slider" data-wjs-element="main"></div>
    
  </body>

  <script>
    $(document).ready(function(){
    		// 0- CONFIG
    		var radius = 10;
    		
		// 1- DATA
		// Node[id] = , posx, posy, fill],
		var node =
			[[30, 90, "grey"],
			[100, 120, "grey"],
			[150, 150, "grey"],
			[200, 60, "grey"],
			[250, 180, "pink"],
			[300, 280, "yellow"],
			[50, 180, "orange"],
			[40, 380, "yellow"],
			[450, 40, "blue"],
			[480, 460, "pink"]];	
		 
		// Similarities: nxn (5x5 = 25)
		var s = 
		  [[1,12,13,14,15,16,17,18,19,20],
		   [12,1,23,24,25,26,27,28,29,30,],
		   [13,23,1,34,35,36,37,38,39,40],
		   [14,24,34,1,45,46,47,48,49,50],
		   [15,25,35,45,1,56,57,58,59,60],
		   [16,26,36,46,56,1,67,68,69,70],
		   [17,27,37,47,57,67,1,78,79,80],
		   [18,28,38,48,58,68,78,1,89,90],
		   [10,10,10,10,59,69,79,80,1,100],
		   [20,30,40,50,60,70,80,90,100,1]];
		
		// 2- MAP
		// Creating canvas 320 Ã— 200 at 10, 50
		var paper = Raphael(10, 50, 500, 500);		
		
		// Creating array-like with all the nodes
		var st = paper.set();
		
		function donode(myid, posx, posy, radius, fill) {
			c = paper.circle(posx, posy, radius)
				.attr("fill", fill);
			c.id = myid;		
			st.push(c);
		}
		
		for (var i = 0; i < node.length; i++) {
			donode(i, node[i][0], node[i][1], radius, node[i][2]);
		}		
		
		// 3- INTERACTION/TRANSFORMATION
		st.click(function () {
			for (var i = 0; i < st.length; i++) {
				//st[i].attr({"r": i*10+10});
				// Hardcoded example for clic on node 2: 		
				if (i!=this.id)	{	
					st[i].attr({"r": s[this.id][i]}); 
					st[i].attr({fill: node[i][2]});
					//alert(" | Node id ->"+this.id+" | Similarity: ["+[this.id]+"]["+[i]+"] ->"+s[this.id][i]); 
				} else {
					st[i].attr({"fill": "black"});
					st[i].attr({"r": 10});
				}
			}
		});
			//Step 1: set up the slider with some options. The valid values for opacity are 0 to 1
			//Step 2: Bind an event so when you slide the slider and stop, the following function gets called
			$('#slider').slider({ 
			min: 0, 
			max: 1, 
			step: 0.01, 
			value: 0,
			orientation: "horizontal",
			     slide: function(e,ui){
				     $('#main').css('opacity', ui.value)
			     }                
			})
   });
  </script>
</html>
